<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Resource counting · EinExprs.jl</title><meta name="title" content="Resource counting · EinExprs.jl"/><meta property="og:title" content="Resource counting · EinExprs.jl"/><meta property="twitter:title" content="Resource counting · EinExprs.jl"/><meta name="description" content="Documentation for EinExprs.jl."/><meta property="og:description" content="Documentation for EinExprs.jl."/><meta property="twitter:description" content="Documentation for EinExprs.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style/images.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="EinExprs.jl logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="EinExprs.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../einexpr/">Einsum Expressions</a></li><li class="is-active"><a class="tocitem" href>Resource counting</a></li><li><span class="tocitem">Optimizers</span><ul><li><a class="tocitem" href="../optimizers/exhaustive/">Exhaustive</a></li><li><a class="tocitem" href="../optimizers/greedy/">Greedy</a></li><li><a class="tocitem" href="../optimizers/line_graph/">LineGraph</a></li></ul></li><li><a class="tocitem" href="../slicing/">Slicing</a></li><li><a class="tocitem" href="../alternatives/">Alternatives</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Resource counting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Resource counting</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/bsc-quantic/EinExprs.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/bsc-quantic/EinExprs.jl/blob/master/docs/src/counters.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Resource-counting"><a class="docs-heading-anchor" href="#Resource-counting">Resource counting</a><a id="Resource-counting-1"></a><a class="docs-heading-anchor-permalink" href="#Resource-counting" title="Permalink"></a></h1><p>As explained before, <code>EinExpr</code>s are symbolic expressions representing Einstein summation equations (i.e. tensor summation, permutation, contraction, ...) so no tensor operation is actually performed on them. Many times, information about the execution cost is needed to optimize the contraction path. In general, this is a hard task but thanks to Einsteam summation notation only representing linear algebra operations, and these operations are easy to estimate, we can count the resource requirements of any contraction path.</p><p>Currently there are 3 resource counters:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EinExprs.flops" href="#EinExprs.flops"><code>EinExprs.flops</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">flops(path::EinExpr)</code></pre><p>Count the number of mathematical operations will be performed by the contraction of the root of the <code>path</code> tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bsc-quantic/EinExprs.jl/blob/9405f174d1447f5cd218014b5bbaccb90775b3d7/src/Counters.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EinExprs.removedsize" href="#EinExprs.removedsize"><code>EinExprs.removedsize</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">removedsize(path::EinExpr)</code></pre><p>Count the amount of memory that will be freed after performing the contraction of the root of the <code>path</code> tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bsc-quantic/EinExprs.jl/blob/9405f174d1447f5cd218014b5bbaccb90775b3d7/src/Counters.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EinExprs.removedrank" href="#EinExprs.removedrank"><code>EinExprs.removedrank</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">removedrank(path::EinExpr)</code></pre><p>Count the rank reduction after performing the contraction of the root of the <code>path</code> tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bsc-quantic/EinExprs.jl/blob/9405f174d1447f5cd218014b5bbaccb90775b3d7/src/Counters.jl#L86-L90">source</a></section></article><div class="admonition is-success" id="Tip-14f5328df769c951"><header class="admonition-header">Tip<a class="admonition-anchor" href="#Tip-14f5328df769c951" title="Permalink"></a></header><div class="admonition-body"><p>These methods only count the resources spent of the contraction <strong>on the root of the tree</strong>. In order to count the resources of the whole tree, use <code>mapreduce</code> with <a href="../einexpr/#EinExprs.Branches"><code>Branches</code></a>:</p><pre><code class="language-julia hljs">mapreduce(flops, +, Branches(path))</code></pre></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../einexpr/">« Einsum Expressions</a><a class="docs-footer-nextpage" href="../optimizers/exhaustive/">Exhaustive »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Thursday 12 June 2025 18:40">Thursday 12 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
